<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
	
<!-- Mirrored from www.gnucitizen.org/blog/lets-fix-the-web/ by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 07 Jul 2012 14:24:11 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8"><!-- /Added by HTTrack -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<link rel="profile" href="http://gmpg.org/xfn/11"/>
		<link rel="pingback" href="../../wordpress/xmlrpc.php" />
		<link rel="alternate" type="application/rdf+xml" title="GNUCITIZEN" href="../../feed/rdf/index.html"/>
		<link rel="alternate" type="application/rss+xml" title="GNUCITIZEN" href="../../feed/rss/index.html"/>
		<link rel="alternate" type="application/atom+xml" title="GNUCITIZEN" href="../../feed/atom/index.html"/>
		<link rel="stylesheet" type="text/css" href="../../wordpress/wp-content/themes/gnucitizen.org-v2/style.css"/>
		<title>GNUCITIZEN &raquo; Let&#8217;s fix the Web</title>
			<meta name="google-site-verification" content="yfE2zXU6xxSUp1CWarDop_6vVdGUUplpLF8P5Xe2fWM"/>
	<link rel="icon" href="../../wordpress/wp-content/themes/gnucitizen.org-v2/styles/images/favicon.ico" type="image/x-icon"/>
	<link rel="alternate" type="application/rss+xml" title="GNUCITIZEN Comments" href="http://feedproxy.google.com/gnucitizenComments"/>
	<link rel="alternate" type="application/rss+xml" title="GNUCITIZEN Group" href="http://feedproxy.google.com/gnucitizenGroup"/>
	<link rel="stylesheet" href="../../wordpress/wp-content/themes/gnucitizen.org-v2/scriptlets/slimbox2/slimbox2.css" type="text/css" media="screen"/>
	<script src="../../wordpress/wp-content/themes/gnucitizen.org-v2/scripts/jquery.core.js" type="text/javascript"></script>
	<script src="../../wordpress/wp-content/themes/gnucitizen.org-v2/scriptlets/slimbox2/slimbox2.js" type="text/javascript"></script>
	<script src="../../wordpress/wp-content/themes/gnucitizen.org-v2/scripts/gnucitizen.common.js" type="text/javascript"></script>
<link rel="alternate" type="application/rss+xml" title="GNUCITIZEN &raquo; Let&#8217;s fix the Web Comments Feed" href="feed/index.html" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../wordpress/xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.gnucitizen.org/wordpress/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Clouds and The Distorted Notion of Direct Control' href='../clouds-and-the-distorted-notion-of-direct-control/index.html' />
<link rel='next' title='Google Chrome' href='../google-chrome/index.html' />
<meta name="generator" content="WordPress 3.3.2" />
<link rel='canonical' href='index.html' />
<link rel='shortlink' href='../../index46e1.html?p=1174' />
<link rel="alternate" type="application/rss+xml" title="GNUCITIZEN Network" href="http://feedproxy.google.com/gnucitizenNetwork"/>	</head>
	
	<body id="single" class="blog">
		<div id="header">
			<h1><a href="../../index.html"><span>GNUCITIZEN</span></a></h1>
			<p><span>Information Security Think Tank</span></p>
		</div>

<div id="navigation">
	<h2>Navigation</h2>
	<ul>
		<li class="cat-item cat-item-2"><a href="../../categories/blog/index.html" title="View all posts filed under Blog">Blog</a></li>
		<li class="page_item page-item-266"><a href="../../archive/index.html">Archive</a></li>
<li class="page_item page-item-236"><a href="../../about/index.html">About</a></li>
<li class="page_item page-item-336"><a href="../../index.html">Home</a></li>
			</ul>
</div>

<div id="content">
			<div id="entry">
							<div id="post-1174" class="post">
	<div class="post-title"><h2><span>Let&#8217;s fix the Web</span></h2></div>
	<div class="post-date"><span>published:</span> August 31st, 2008</div>
	<div class="post-content"><div class="single-content-top-widgets"></div><p>I am heavily frustrated from the way the Web works today. Everything seems to be broken beyond reason. I really want to fix the damn thing but I realize that it is not up to me to do that. It is up to all of us to make sure that code is written in the most secure possible way. Can we do that? Perhaps not! What can we do then?</p>

<p>Before I get to the point, I need to tell you how I fixed my insecure WordPress blog. WordPress has many security shortcomings and I was so frustrated that I decided to fix whatever I can once and for all. I believe that we can fix the Web in a similar way, but first these are all the patches that were implemented:</p>

<ul>
<li>mark all cookies as <code>secure</code> to prevent leakage over unencrypted channels</li>
<li>mark all cookies as <code>httpOnly</code> to prevent session hijacks due to Cross-site Scripting vulnerabilities</li>
<li>if you try to login, force SSL to prevent leakage of credentials and other sensitive data</li>
<li>when logged in, make sure that all URLs are HTTPS enabled to prevent leakage of sensitive information</li>
<li>when over HTTPS make sure that all URLs that point to your domain start with <code>https://</code> to prevent leakage of any data</li>
<li>restrict 443 (HTTPS) to blog users and admins only</li>
<li>disable error messages everywhere to prevent leakage of sensitive information</li>
<li>allow upload of only known file types such as jpg, gif and png (I will add a check for the <a href="../gifars-and-other-issues/index.html">gifar</a> problem soon)</li>
<li>embed an IDS type of solution (<a href="http://php-ids.org/">PHPIDS</a> in my case) to block known attacks</li>
<li>integrate with blogsecurify to enable continues security checks and warn the admin if a problem is found</li>
</ul>

<p>I believe that this makes the blog a lot more secure. There still might be ways to attack it but this is all I can do in the most reasonable possible way, without completely breaking WordPress. All of these fixes are implemented as a plugin which I will make available for free download soon.</p>

<p>So how can we fix the Web? I have a few ideas in mind and all of them can be implemented. Here they are:</p>

<ul>
<li>allow the user to sandbox and unsandbox applications and web resources with a single click</li>
<li>sandbox by default known applications such as GMail, Yahoo Mail, etc.</li>
<li>in the sandbox, mark all cookies as <code>secure</code> to prevent session leaks</li>
<li>in the sandbox, mark all session cookies as <code>httpOnly</code> to prevent session hijacks due to XSS</li>
<li>make sure that while on HTTPS, all embedded resources are delivered over HTTPS as well.</li>
<li>provide the option to turn off JavaScript, JAVA, Flash, SilverLight, etc on per-sandbox basis</li>
<li>block any external requests to sandboxed applications</li>
<li>implement the PHPIDS signature matching mechanism in JavaScript</li>
<li>if the HTML structure is heavily broken, block the page to prevent some types of persistent XSS</li>
<li>record ssl signatures on trusted network and warn if signature changes while on untrusted network</li>
</ul>

<p>I think that this type of solution will make the Web a lot more secure. It definitely wont fix it, but it will make the majority of attacks not easy at all. It will block the majority of CSRF and XSS attacks. It will provide certain mitigations against persistent XSS attacks. It will provide some mitigations against Browser exploits which employ Flash or Java technology to exploit the browser. It is not perfect, but it looks good enough to me.</p>

<p><em>Next stop: actually fixing the browser!</em></p><div class="single-content-bottom-widgets"></div></div>
		<div class="post-links"><a href="index.html">more</a> | <a href="index.html#post-comments">comments</a> | <a href='feed/index.html'>comments rss</a> | posted by <a href="../../author/pdp/index.html" title="Posts by pdp" rel="author">pdp</a></div>
	<div class="post-tags">Tags: <a href="../../tags/fix/index.html" rel="tag">fix</a> | <a href="../../tags/web/index.html" rel="tag">web</a></div></div>
				

				<div id="post-comments">
					<div class="comment even thread-even depth-1" id="comment-123442">
				<div class="comment-author vcard">
		<img alt='' src='http://1.gravatar.com/avatar/fee778a87c72dfd3dc36f3b4f19765b7?s=32&amp;d=retro&amp;r=G' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn">just me</cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="comment-page-1/index.html#comment-123442">
			August 31, 2008 at 10:50 am</a>		</div>

		<p>Your ideas are very good, I wonder if a similar thing can be done for other commonly used web site applications, such as phpNuke and Invision Power Board</p>

		<div class="reply">
				</div>
		</div>
		<div class="comment odd alt thread-odd thread-alt depth-1" id="comment-123444">
				<div class="comment-author vcard">
		<img alt='' src='http://1.gravatar.com/avatar/be3b138352dc100c9459e612b275b413?s=32&amp;d=retro&amp;r=G' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn">mindcorrosive</cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="comment-page-1/index.html#comment-123444">
			August 31, 2008 at 1:29 pm</a>		</div>

		<p>Your ideas, of course, suggest that the users are educated about secure browsing and are impenetrable to stupidity &#8211; which is hardly the case, considering the amount of non-technical privacy and security breaches we see these days.<br />
The power users already know how to fix the things and do not need much more security &#8211; it&#8217;s all the others irresponsible individuals that need to be educated in the first place, instead of trying to invent an imaginary fool-proof technology..</p>

		<div class="reply">
				</div>
		</div>
		<div class="comment byuser comment-author-pagvac even thread-even depth-1" id="comment-123446">
				<div class="comment-author vcard">
		<img alt='' src='http://0.gravatar.com/avatar/0367b81839d31a5fa3d7bea79ef71b9e?s=32&amp;d=retro&amp;r=G' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn"><a href='http://www.linkedin.com/in/pagvac' rel='external nofollow' class='url'>Adrian 'pagvac' Pastor</a></cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="comment-page-1/index.html#comment-123446">
			August 31, 2008 at 2:06 pm</a>		</div>

		<p>It&#8217;s worth it mentioning that if someone is in the same Wi-Fi network as you, SSL alone won&#8217;t protect you against session hijacking:</p>
<p><a href="https://www.defcon.org/html/defcon-16/dc-16-speakers.html#Perry" rel="nofollow">https://www.defcon.org/html/defcon-16/dc-16-speakers.html#Perry</a><br />
<a href="http://enablesecurity.com/2008/08/11/surf-jack-https-will-not-save-you/" rel="nofollow">http://enablesecurity.com/2008.....-save-you/</a></p>

		<div class="reply">
				</div>
		</div>
		<div class="comment byuser comment-author-admin odd alt thread-odd thread-alt depth-1" id="comment-123447">
				<div class="comment-author vcard">
		<img alt='' src='http://0.gravatar.com/avatar/02ad2ea464a98737d78746fa7b7c36b6?s=32&amp;d=retro&amp;r=G' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn"><a href='../../index.html' rel='external nofollow' class='url'>pdp</a></cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="comment-page-1/index.html#comment-123447">
			August 31, 2008 at 7:20 pm</a>		</div>

		<p>just me, yes!</p>
<p>mindcorrosive, you are right but this is exactly why some mainstream applications like GMail and Yahoo Mail will be protected by default. Also, I am thinking that the browser should ask you how much you trust the current network, every time the network settings change.</p>
<p>adrian, why not? we force SSL, we compare the self-signed signatures against a list of SHA1 collected while being on a trusted network, we force <code>secure</code> and <code>httpOnly</code> cookies. this setup should make you feel save even on very unsafe networks.</p>

		<div class="reply">
				</div>
		</div>
		<div class="comment even thread-even depth-1" id="comment-123450">
				<div class="comment-author vcard">
		<img alt='' src='http://0.gravatar.com/avatar/c4e8bfccc476a6ac99cbf85737a2b25b?s=32&amp;d=retro&amp;r=G' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn">pepe</cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="comment-page-1/index.html#comment-123450">
			August 31, 2008 at 8:53 pm</a>		</div>

		<p>yeah&#8230;lets make millions of websites, millions of lines of code secure by telling everyone what rules they should obey&#8230;it worked so well for open smtp relays..it works so well for phishing&#8230;</p>
<p>Lets just list all the things that could break and implement a measure against it. It works so well with AV software suites&#8230;</p>
<p>Its good to be in the security field: Everyone constantly assures that there&#8217;s new work to do next week..</p>

		<div class="reply">
				</div>
		</div>
		<div class="comment odd alt thread-odd thread-alt depth-1" id="comment-123452">
				<div class="comment-author vcard">
		<img alt='' src='http://1.gravatar.com/avatar/be3b138352dc100c9459e612b275b413?s=32&amp;d=retro&amp;r=G' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn">mindcorrosive</cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="comment-page-1/index.html#comment-123452">
			August 31, 2008 at 9:32 pm</a>		</div>

		<p>pdp: still, it boils down to &#8220;trust&#8221;. How much do you trust your ISP? Your government? Yahoo and Google, for that matter?<br />
Without a trusting model from the bottom up, it is impossible to guarantee security &#8211; it is simply &#8220;security by obscurity&#8221;, i.e. malicious crackers lack the sheer labor force to harvest the web and the average inhabitants at large scale, giving the imagery of &#8220;security&#8221;. Please note that I don&#8217;t underestimate your efforts in that respect, I just point out what is probably obvious to everyone.</p>
<p>I agree that secured connections are the way to go, but what good is an 4096-bit SHA-1 encrypted SSH connection to a non-trusted host?</p>
<p>I would suggest that both parties need to identify each other &#8211; both the server and the client. What is done today is server-side only, in most occasions. Client-side is still dependent on the human factor &#8211; and that probably constitutes the largest share of security breaches these days. Why not issuing a government-signed certificate to everyone &#8211; the way we get ID papers? Of course, that creates more problems along a way, but might be a solution in the near future.</p>

		<div class="reply">
				</div>
		</div>
		<div class="comment even thread-even depth-1" id="comment-123454">
				<div class="comment-author vcard">
		<img alt='' src='http://0.gravatar.com/avatar/c26704aa7b55355611d52834c44d7d1d?s=32&amp;d=retro&amp;r=G' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn"><a href='http://www.owasp.org/index.php/ESAPI' rel='external nofollow' class='url'>Jeff Williams</a></cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="comment-page-1/index.html#comment-123454">
			September 1, 2008 at 4:32 am</a>		</div>

		<p>It&#8217;s not easy to do all of the things in your list in some environments. The OWASP ESAPI project is defining an security API that encourages developers to do these things. The Java implementation has been released for almost a year, and the .NET and PHP implementations are in progress.</p>

		<div class="reply">
				</div>
		</div>
		<div class="comment byuser comment-author-admin odd alt thread-odd thread-alt depth-1" id="comment-123458">
				<div class="comment-author vcard">
		<img alt='' src='http://0.gravatar.com/avatar/02ad2ea464a98737d78746fa7b7c36b6?s=32&amp;d=retro&amp;r=G' class='avatar avatar-32 photo' height='32' width='32' />		<cite class="fn"><a href='../../index.html' rel='external nofollow' class='url'>pdp</a></cite> <span class="says">says:</span>		</div>

		<div class="comment-meta commentmetadata"><a href="comment-page-1/index.html#comment-123458">
			September 1, 2008 at 1:16 pm</a>		</div>

		<p>mindcorrosive, well you cannot be 100% sure but you still trust some networks more then others. the plugin will detect if you are changing network settings and thus will ask you how much you trust the network you are in. if you are not trusting it as much as your home network then the plugin will match any data it gets from the web apps you are visiting against a trusted model built previously. I think that it makes sense.</p>
<p>Jeff, I think that the project is very interesting but I doubt that you will be able to force it on developers. WebApp firewalls are such a hot topic at the moment simply because you don&#8217;t have to deal with developers. They are not perfect but provide that transparency that satisfies most people. My proposal for this firefox extension aims to do to the client-side what webapp firewalls do for the server-side. No more then that &#8211; a simple, elegant, yet effective solution.</p>

		<div class="reply">
				</div>
		</div>
		</div>
		
		<div class="post-comments-navigation">
			<div class="older-comments"></div>
			<div class="newer-comments"></div>
		</div>
	
	<div id="post-response">
		<h2>Respond</h2>
					<form action="http://www.gnucitizen.org/wordpress/wp-comments-post.php" name="response-form" method="post" class="response-form">
				<p><em>We retain the right to remove any comment or trackback we determine to be, at our sole discretion, unacceptable.</em></p>
									<div><label for="author">name: (required)</label></div>
					<div><input type="text" name="author" id="author" value="" size="20" tabindex="1"/></div>
					<div><label for="email">mail: (required)</label></div>
					<div><input type="text" name="email" id="email" value="" size="20" tabindex="2"/></div>
					<div><label for="url">website:</label></div>
					<div><input type="text" name="url" id="url" value="" size="20" tabindex="3"/></div>
								<div><label for="comment">comment:</label></div>
				<div><textarea name="comment" id="comment" cols="50" rows="10" tabindex="4"></textarea></div>
				<div>
					<input class="button" name="submit" type="submit" id="submit" tabindex="5" value="submit"/>
					<input class="button" name="reset" type="reset" id="reset" tabindex="6" value="reset"/>
				</div>
				<input type="hidden" name="comment_post_ID" value="1174"/>
				<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="e5a4937738" /></p>

	<p style="clear: both;" class="subscribe-to-comments">
	<input type="checkbox" name="subscribe" id="subscribe" value="subscribe" style="width: auto;" />
	<label for="subscribe">Notify me of followup comments via e-mail</label>
	</p>


			</form>
			</div>
					</div>
		<div id="content-sidebar">					<div class="widget">			<p style="font-size:24px"><em>Get <a href="http://www.websecurify.com/">Websecurify</a> - a cross-platform web security testing technology designed from the ground up with simplicity in mind.</em></p>			</div>			</div></div>

				
		<div id="footer">
			
	<script type="text/javascript">
		var gaJsHost = (('https:' == document.location.protocol) ? 'https://ssl.' : 'http://www.');
		document.write(unescape('%3Cscript src="' + gaJsHost + 'google-analytics.com/ga.js" type="text/javascript"%3E%3C/script%3E'));
	</script>
	<script type="text/javascript">
		var pageTracker = _gat._getTracker('UA-363996-1');
		pageTracker._initData();
		pageTracker._trackPageview();
	</script>

				<p>(<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/2.5/" title="Creative Commons Attribution-Noncommercial-No Derivative Works 2.5 Generic">CC</a>)2005-2012 <a href="../../index.html" title="Information Security Think Tank">GNUCITIZEN</a></p>
		</div>
		
		<!-- <rdf:RDF xmlns="http://web.resource.org/cc/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
			<Work rdf:about="">
				<license rdf:resource="http://creativecommons.org/licenses/by-nc-nd/2.5/"/>
				<dc:title>GNUCITIZEN</dc:title>
				<dc:date>2005-2012</dc:date>
				<dc:creator><Agent><dc:title>GNUCITIZEN</dc:title></Agent></dc:creator>
				<dc:rights><Agent><dc:title>GNUCITIZEN</dc:title></Agent></dc:rights>
				<dc:type rdf:resource="http://purl.org/dc/dcmitype/Text"/>
				<dc:source rdf:resource="http://www.gnucitizen.org"/>
			</Work>
			<License rdf:about="http://creativecommons.org/licenses/by-nc-nd/2.5/">
				<permits rdf:resource="http://web.resource.org/cc/Reproduction"/>
				<permits rdf:resource="http://web.resource.org/cc/Distribution"/>
				<requires rdf:resource="http://web.resource.org/cc/Notice"/>
				<requires rdf:resource="http://web.resource.org/cc/Attribution"/>
				<prohibits rdf:resource="http://web.resource.org/cc/CommercialUse"/>
			</License>
		</rdf:RDF> -->
		
		<!-- tested by blogsecurify -->
		<!-- wpscanner -->
	</body>

<!-- Mirrored from www.gnucitizen.org/blog/lets-fix-the-web/ by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 07 Jul 2012 14:24:11 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8"><!-- /Added by HTTrack -->
</html>
